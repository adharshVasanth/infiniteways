<html>
  <head>
    <title>
      Notion API integration example
    </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/json-formatter-js@2.3.4/dist/json-formatter.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sortable/0.8.0/css/sortable-theme-minimal.min.css">
    <link rel="stylesheet" href="scripts/index.css">
  </head>
  <body>
    <h1>
      Notion API integration example
    </h1>
    <p>
      This example uses packages: Wrangler from cloudflare to create a local worker server that also integrates @notionhq/client&nbsp;
      that fetch data from notion api and integration. This is basically a form that collects data from clientside and send it to a worker located on a cloudflare server.&nbsp;
      This server acts a proxy to collect information from the notion Apiand sends back tha data to client. Client process this data and display it.&nbsp;
      The wrangler plugin helps to do the work of the worker on a local server. Nevertheless it should be deployed to the worker.&nbsp;
    </p>
    <div class="container" style="max-width:100%">
      <div class="row my-3">
        <div class="col-md-4">
          <form class="notion-hq-input" onSubmit="return false">
            <span class="d-block mb-3 h4">Input</span>
            <div class="form-floating mb-3">
              <input type="text" disabled value="4153efddccc84e3a80012ac7d36bbb2a" class="form-control" id="database-id" placeholder="databaseId">
              <label for="database-id">databaseId</label>
            </div>
            <div class="mb-3">
              <label for="entry-category-select" class="form-label">entryCategory</label>
              <select class="form-select entry-category-select" id="entry-category-select" aria-label="entryCategory">
                <option selected value="all">All</option>
                <option value="Hello">Hello</option>
                <option value="You">You</option>
                <option value="Travel">Travel</option>
                <option value="Hey">Hey</option>
              </select>
            </div>
            <div class="form-check form-switch mb-3">
              <input class="form-check-input entry-archived-include" type="checkbox" role="switch" id="entry-archived-include" checked>
              <label class="form-check-label" for="entry-archived-include">entryArchivedInclude</label>
            </div>
            <div class="mb-3">
              <label for="entry-max-number" class="form-label">entryMaxNumber: <span class="entry-max-number-number">5</span></label>
              <input type="range" value="5" class="form-range entry-max-number" min="3" max="10" step="1" id="entry-max-number">
            </div>
            <div class="btn-group mb-3" id="entry-display" role="group" aria-label="entryDisplay">
              <input type="radio" class="btn-check" name="entry-display" value="grid" id="entry-display--grid" autocomplete="off" checked>
              <label class="btn btn-outline-primary" for="entry-display--grid"><i class="bi-grid"></i></label>
              <input type="radio" class="btn-check" name="entry-display" value="table" id="entry-display--table" autocomplete="off">
              <label class="btn btn-outline-primary" for="entry-display--table"><i class="bi-table"></i></label>
            </div>
            <div class="form-floating mb-3">
              <input type="text" disabled value=".notion-hq-output" class="form-control" id="output-element" placeholder="outputElement">
              <label for="output-element">outputElement</label>
            </div>
            <div class="form-check form-switch mb-3">
              <input class="form-check-input console-enable" type="checkbox" role="switch" id="console-enable" checked>
              <label class="form-check-label" for="console-enable">consoleEnable</label>
            </div>
            <div class="form-floating mb-3">
              <input type="text" disabled value=".notion-hq-output--formatted" class="form-control" id="console-element" placeholder="consoleElement">
              <label for="console-element">consoleElement</label>
            </div>
            <div class="form-floating mb-3">
              <textarea readonly id="notion-hq-input--input" class="form-control form-control-plaintext notion-hq-input--input" placeholder="input">
    {
      "function": "databasesQuery",
      "data": {
        "databaseId": "4153efddccc84e3a80012ac7d36bbb2a",
        "entryCategory": "all",
        "entryArchivedInclude": true,
        "entryMaxNumber": 5,
        "entryDisplay": "grid"
      },
      "output": {
        "element": ".notion-hq-output",
        "console": {
          "enable": true,
          "element": ".notion-hq-output--formatted"
        }
      },
      "pagination": {
      }
    }
              </textarea>
              <label for="notion-hq-input--input">Data sent</label>
            </div>
            <button class="notion-hq-trigger--btn btn-lg btn btn-primary" type="button" type="submit"><i class="bi-search"></i></button>
            <button class="notion-hq-reset--btn btn-lg btn btn-primary" type="button" type="submit"><i class="bi-arrow-clockwise"></i></button>
          </form>
        </div>
        <div class="col-md-8">
          <div class="notion-hq-output"></div>
        </div>
      </div>
      <div class="row">
        <div class="col"></div>
          <pre><code class="notion-hq-output--formatted"></code></pre>
        </div>
      </div>
    </div>
    <h2>
      Further improvements
    </h2>
    <p>
      <ul>
        <li>Table fiter and sort</li>
        <li>saving data as cookies</li>
        <li>Loading spinners and placeholders</li>
        <li>design and ui, bootstrap and markdown</li>
        <li>icons and fonts</li>
        <li>barba</li>
        <br/>
        <li>Error management and debugging</li>
        <li>Compacting code, testing and compatibility, security</li>
        <li>speed checking and performance</li>
        <br/>
        <li>A unified interface for data collection</li>
        <li>integration of php get components and page systems</li>
        <li>Page fetch, Page details fetch</li>
        <li>Search widget, suggestions</li>
        <li>Users fetch, logins, web editor and publisher</li>
        <li>Feedback form using notion api</li>
      </ul>
    </p>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/json-formatter-js@2.3.4/dist/json-formatter.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sortable/0.8.0/js/sortable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="scripts/index.js"></script>
</html>
